<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Edit Shipment</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container py-4">

<h2 class="mb-3">Edit Shipment</h2>

<p class="text-muted">
    <strong>Tracking:</strong> <span th:text="${shipment.trackingNumber}"></span><br>
    <strong>Sender:</strong> <span th:text="${shipment.sender.user.fullName}"></span><br>
    <strong>Recipient:</strong> <span th:text="${shipment.recipient.user.fullName}"></span>
</p>

<form th:action="@{'/shipments/edit/' + ${shipment.id}}" th:object="${form}" method="post" class="row g-3">

    <div class="col-md-3">
        <label class="form-label">Weight (kg)</label>
        <input class="form-control" type="number" step="0.01" th:field="*{weightKg}" required>
    </div>

    <div class="col-md-3">
        <label class="form-label">Delivery Type</label>
        <select class="form-select" th:field="*{deliveryType}">
            <option th:each="t : ${deliveryTypes}" th:value="${t}" th:text="${t}"></option>
        </select>
    </div>

    <div class="col-md-3">
        <label class="form-label">Status</label>
        <select class="form-select" th:field="*{status}">
            <option th:each="s : ${statuses}" th:value="${s}" th:text="${s}"></option>
        </select>
    </div>

    <div class="col-md-4">
        <label class="form-label">From City</label>
        <input class="form-control" th:field="*{fromCity}">
    </div>
    <div class="col-md-8">
        <label class="form-label">From Address</label>
        <input class="form-control" th:field="*{fromAddress}">
    </div>

    <div class="col-md-4">
        <label class="form-label">To City</label>
        <input class="form-control" th:field="*{toCity}">
    </div>
    <div class="col-md-8">
        <label class="form-label">To Address</label>
        <input class="form-control" th:field="*{toAddress}">
    </div>

    <div class="col-md-6">
        <label class="form-label">Deliver To Office (if OFFICE)</label>
        <select class="form-select" th:field="*{toOfficeId}">
            <option value="">-- none --</option>
            <option th:each="o : ${offices}"
                    th:value="${o.id}"
                    th:text="${o.city + ' - ' + o.addressLine}"></option>
        </select>
    </div>

    <div class="col-12 d-flex gap-2">
        <button class="btn btn-success">Save Changes</button>
        <a class="btn btn-outline-secondary" th:href="@{/shipments}">Cancel</a>
    </div>
</form>

</body>
</html>